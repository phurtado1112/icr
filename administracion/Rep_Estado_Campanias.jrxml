<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Rep_Estado_Campanias" language="groovy" pageWidth="792" pageHeight="612" orientation="Landscape" columnWidth="752" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="5fabfc19-a8bf-48da-b74a-a8cffac837d6">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Title" fontName="Times New Roman" fontSize="50" isBold="true" pdfFontName="Times-Bold"/>
	<style name="SubTitle" forecolor="#736343" fontName="Arial" fontSize="18"/>
	<style name="Column header" forecolor="#666666" fontName="Arial" fontSize="12" isBold="true"/>
	<style name="Detail" fontName="Arial" fontSize="12"/>
	<style name="Row" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{REPORT_COUNT}%2 == 0]]></conditionExpression>
			<style backcolor="#E6DAC3"/>
		</conditionalStyle>
	</style>
	<queryString language="SQL">
		<![CDATA[SELECT
        `asignar`.`idasignar` AS `idasignar`,
        `campanias`.`idcampania` AS `idcampania`,
        `campanias`.`campania` AS `campania`,
        `campanias`.`terminada` AS `terminada`,
        `campanias`.`fechainicio` AS `fechainicio`,
        `campanias`.`fechafin` AS `fechafin`,
        `programas`.`programa` AS `programa`,
        `usuarios`.`nombre` AS `nombre`,
        SUM(IF((`clientes`.`idestado` = '1'), 1, 0)) AS `ATENDIDO`,
        SUM(IF((`clientes`.`idestado` = '0'), 1, 0)) AS `PENDIENTE`,
        COUNT(0) AS `TOTAL`,
        ROUND(((SUM(IF((`clientes`.`idestado` = '1'), 1, 0)) * 100) / COUNT(0)),
                1) AS `PROCENT`,
        SUM(IF((`transaccion`.`idtipificacion` = 16),
            1,
            0)) AS `CALIFICADO`,
        SUM(IF((`transaccion`.`idtipificacion` = 9),
            1,
            0)) AS `NOINTERESADO`,
        (SUM(IF((`transaccion`.`idtipificacion` = 18),
            1,
            0)) + SUM(IF((`transaccion`.`idtipificacion` = 21),
            1,
            0))) AS `OTROPROGRAMA`,
        (SUM(IF((`transaccion`.`idtipificacion` = 17),
            1,
            0)) + SUM(IF((`transaccion`.`idtipificacion` = 10),
            1,
            0))) AS `FALLIDA`
    FROM
        (((((`asignar`
        LEFT JOIN `campanias` ON ((`asignar`.`idcampania` = `campanias`.`idcampania`)))
        LEFT JOIN `clientes` ON ((`asignar`.`idasignar` = `clientes`.`idasignar`)))
        LEFT JOIN `usuarios` ON ((`asignar`.`idusuario` = `usuarios`.`idusuario`)))
        LEFT JOIN `programas` ON ((`campanias`.`idprograma` = `programas`.`idprograma`)))
        LEFT JOIN `transaccion` ON ((`clientes`.`idcliente` = `transaccion`.`idcliente`)))
    WHERE
        (`transaccion`.`ultimo` = 1)
    GROUP BY `asignar`.`idasignar`]]>
	</queryString>
	<field name="nombre" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="campania" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="programa" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ATENDIDO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="PENDIENTE" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="TOTAL" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="CALIFICADO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="NOINTERESADO" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="OTROPROGRAMA" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="FALLIDA" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="PROCENT" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="sumaAtendidos" class="java.lang.Integer" resetType="Group" resetGroup="programa" calculation="Sum">
		<variableExpression><![CDATA[$F{ATENDIDO}]]></variableExpression>
	</variable>
	<variable name="sumaPendientes" class="java.lang.Integer" resetType="Group" resetGroup="programa" calculation="Sum">
		<variableExpression><![CDATA[$F{PENDIENTE}]]></variableExpression>
	</variable>
	<variable name="sumaTotal" class="java.lang.Integer" resetType="Group" resetGroup="programa" calculation="Sum">
		<variableExpression><![CDATA[$F{TOTAL}]]></variableExpression>
	</variable>
	<variable name="sumaCalificados" class="java.lang.Integer" resetType="Group" resetGroup="programa" calculation="Sum">
		<variableExpression><![CDATA[$F{CALIFICADO}]]></variableExpression>
	</variable>
	<variable name="sumaNoInteresado" class="java.lang.Integer" resetType="Group" resetGroup="programa" calculation="Sum">
		<variableExpression><![CDATA[$F{NOINTERESADO}]]></variableExpression>
	</variable>
	<variable name="otroPrograma" class="java.lang.Integer" resetType="Group" resetGroup="programa" calculation="Sum">
		<variableExpression><![CDATA[$F{OTROPROGRAMA}]]></variableExpression>
	</variable>
	<variable name="sumaFallida" class="java.lang.Integer" resetType="Group" resetGroup="programa" calculation="Sum">
		<variableExpression><![CDATA[$F{FALLIDA}]]></variableExpression>
	</variable>
	<group name="programa">
		<groupExpression><![CDATA[$F{programa}]]></groupExpression>
		<groupHeader>
			<band height="27">
				<rectangle>
					<reportElement mode="Opaque" x="0" y="0" width="100" height="24" backcolor="#0066FF" uuid="72ef58ce-5d5e-47a6-96d3-ff1c325a288d"/>
					<graphicElement>
						<pen lineWidth="0.0"/>
					</graphicElement>
				</rectangle>
				<frame>
					<reportElement mode="Opaque" x="-21" y="2" width="772" height="24" forecolor="#B89F7D" backcolor="#F2EBDF" uuid="e2418769-997d-4941-a27e-059e823c8110"/>
					<textField>
						<reportElement style="SubTitle" x="129" y="0" width="643" height="24" forecolor="#000066" uuid="2c3f23fc-e2dd-4699-b4cc-63f87e7b719c"/>
						<textElement textAlignment="Justified" verticalAlignment="Middle">
							<font size="15" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{programa}]]></textFieldExpression>
					</textField>
					<staticText>
						<reportElement x="21" y="0" width="100" height="20" uuid="5e3f05ec-7a7a-4a61-b620-6ca95aa002d0"/>
						<textElement verticalAlignment="Middle">
							<font fontName="Arial" size="12" isBold="true"/>
						</textElement>
						<text><![CDATA[PROGRAMA:]]></text>
					</staticText>
				</frame>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="28">
				<textField>
					<reportElement x="100" y="8" width="89" height="20" uuid="c39e401a-a0d4-461c-877c-12b772046a93"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sumaAtendidos}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="100" y="4" width="651" height="1" uuid="2f49f6c2-938d-4fd7-bad4-c59c28586d0c"/>
				</line>
				<textField>
					<reportElement x="177" y="8" width="81" height="20" uuid="dd6c6e0f-9f94-4286-8705-fb4dbd37effc"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sumaPendientes}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="239" y="8" width="89" height="20" forecolor="#FF0000" uuid="8fba9a16-bb61-4123-9eac-2cbccd19e331"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sumaTotal}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="322" y="8" width="89" height="20" uuid="385441ae-1a6c-4f52-b4b8-90e26d79174f"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sumaCalificados}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="407" y="8" width="89" height="20" uuid="242b5cbd-8e35-4418-9032-f3d4c808255a"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sumaNoInteresado}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="496" y="8" width="89" height="20" uuid="27ef73a4-8f58-41d0-8959-9a0f3c84d318"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{otroPrograma}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="585" y="7" width="89" height="20" uuid="4cbe9e0c-7eec-4928-9466-baf948043c00"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="12"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sumaFallida}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="campania">
		<groupExpression><![CDATA[$F{campania}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<textField>
					<reportElement style="SubTitle" x="0" y="0" width="752" height="20" forecolor="#000066" uuid="54e89f92-b055-4c79-9435-58a0e303c858"/>
					<textElement verticalAlignment="Middle">
						<font size="13" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{campania}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="119" splitType="Stretch">
			<staticText>
				<reportElement style="Title" x="270" y="0" width="482" height="62" uuid="7f21fad9-0e52-4546-864d-201e969a9a4b"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="44" pdfFontName="Times-Roman"/>
				</textElement>
				<text><![CDATA[Estado de Campañas]]></text>
			</staticText>
			<image>
				<reportElement x="1" y="0" width="266" height="84" uuid="00643715-2ca6-45bd-b5e3-26fddb620ae1"/>
				<imageExpression><![CDATA["C:\\xampp\\htdocs\\incaecrm\\administracion\\images\\incae_logo.jpg"]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="34" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="30" width="752" height="1" uuid="583ca11a-a6a2-470e-9c86-08bf5e5b76f5"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement style="Column header" x="19" y="7" width="89" height="15" forecolor="#000066" uuid="5cf34042-1992-4e98-930a-c90fdf96b059"/>
				<textElement verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[ASESOR]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="108" y="7" width="89" height="15" forecolor="#000066" uuid="3f8e87e8-4d69-406d-88d8-6f0e5fbbffbd"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[ATENDIDOS]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="182" y="7" width="89" height="15" forecolor="#000066" uuid="9e2e4a31-acae-42d2-91fa-f92b417a16da"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[PENDIENTES]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="247" y="7" width="89" height="15" forecolor="#FF0000" uuid="dd4cf4a7-dd00-4ec8-818b-e3e7bf9469ba"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[TOTAL]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="322" y="7" width="89" height="15" forecolor="#000066" uuid="fbc47784-f94e-465e-84a9-6436679cac3d"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[CALIFICADOS]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="585" y="7" width="89" height="15" forecolor="#000066" uuid="8f86b25f-7c37-4a43-b982-4813f334ce52"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[FALLIDAS]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="663" y="7" width="89" height="15" forecolor="#000066" uuid="5941b059-4df6-4ca8-bf18-279c05516375"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[% AVANCE]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="406" y="1" width="90" height="30" forecolor="#000066" uuid="91a9e6e9-765e-4880-9745-bb24ab09e402"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[NO INTERESADOS]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="496" y="1" width="94" height="30" forecolor="#000066" uuid="6ccff85a-57ce-4bc3-a7be-2abec5d0ee2a"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="11"/>
				</textElement>
				<text><![CDATA[OTRO PROGRAMA]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="15" splitType="Stretch">
			<frame>
				<reportElement style="Row" mode="Opaque" x="0" y="0" width="752" height="15" uuid="0d0bcc79-70b9-493c-9f17-0e1cf8c149c3"/>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="0" y="0" width="115" height="15" uuid="83b2929b-126e-4277-b714-f28def1ad2bb"/>
					<textFieldExpression><![CDATA[$F{nombre}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="100" y="0" width="89" height="15" uuid="33289918-d052-44c2-b502-1e71ed979622"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{ATENDIDO}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="174" y="0" width="89" height="15" uuid="9e6ef677-834e-4ccc-987d-dc980285af59"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{PENDIENTE}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="239" y="0" width="89" height="15" forecolor="#FF0000" uuid="b1efd614-5f37-4ea3-8eee-1ca19c51fe78"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{TOTAL}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="322" y="0" width="89" height="15" uuid="9660ed90-1d2e-4eec-b9b4-03261ac5e62e"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{CALIFICADO}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="407" y="0" width="89" height="15" uuid="2b2ad280-0315-4c51-b2f7-48088c473db7"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{NOINTERESADO}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="496" y="0" width="89" height="15" uuid="828237de-7df2-4638-8b8a-5c2a018b2d9e"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{OTROPROGRAMA}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="585" y="0" width="89" height="15" uuid="d2e7abfb-e423-432b-93d0-b040003159d1"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{FALLIDA}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement style="Detail" x="663" y="0" width="89" height="15" uuid="df158693-f8a1-4f86-ac7c-71df30ed877b"/>
					<textElement textAlignment="Center" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{PROCENT}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
	<columnFooter>
		<band height="6" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="2" width="802" height="1" uuid="a1e6c7ec-b4b3-47c1-b0bb-d71eb0e906c9"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="21" splitType="Stretch">
			<frame>
				<reportElement mode="Opaque" x="-21" y="-4" width="773" height="24" forecolor="#D0B48E" backcolor="#F2EBDF" uuid="6969d28c-f754-41fa-88c4-a6163962030b"/>
				<textField evaluationTime="Report">
					<reportElement style="Column header" x="726" y="1" width="40" height="20" forecolor="#736343" uuid="caf3c928-3dd8-42b1-99ce-43d182f15e39"/>
					<textElement verticalAlignment="Middle">
						<font size="10" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement style="Column header" x="646" y="1" width="80" height="20" forecolor="#736343" uuid="c7ad6724-69c8-4643-a078-5686d9ae0c7a"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="10" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
				</textField>
				<textField pattern="EEEEE dd MMMMM yyyy">
					<reportElement style="Column header" x="22" y="0" width="197" height="20" forecolor="#736343" uuid="dd1177ad-ad9d-44b6-8dfd-55aa6babd958"/>
					<textElement verticalAlignment="Middle">
						<font size="10" isBold="false"/>
					</textElement>
					<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
