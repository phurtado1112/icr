(function(a){var k={};function g(m,l){return l*Math.floor(m/l)}function j(t,n,q,m){if(typeof t.strftime=="function"){return t.strftime(n)}var w=function(y,r){y=""+y;r=""+(r==null?"0":r);return y.length==1?r+y:y};var l=[];var x=false;var v=t.getHours();var s=v<12;if(q==null){q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(m==null){m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}var o;if(v>12){o=v-12}else{if(v==0){o=12}else{o=v}}for(var p=0;p<n.length;++p){var u=n.charAt(p);if(x){switch(u){case"a":u=""+m[t.getDay()];break;case"b":u=""+q[t.getMonth()];break;case"d":u=w(t.getDate());break;case"e":u=w(t.getDate()," ");break;case"H":u=w(v);break;case"I":u=w(o);break;case"l":u=w(o," ");break;case"m":u=w(t.getMonth()+1);break;case"M":u=w(t.getMinutes());break;case"q":u=""+(Math.floor(t.getMonth()/3)+1);break;case"S":u=w(t.getSeconds());break;case"y":u=w(t.getFullYear()%100);break;case"Y":u=""+t.getFullYear();break;case"p":u=(s)?("am"):("pm");break;case"P":u=(s)?("AM"):("PM");break;case"w":u=""+t.getDay();break}l.push(u);x=false}else{if(u=="%"){x=true}else{l.push(u)}}}return l.join("")}function i(q){function l(s,r,p,t){s[r]=function(){return p[t].apply(p,arguments)}}var n={date:q};if(q.strftime!=undefined){l(n,"strftime",q,"strftime")}l(n,"getTime",q,"getTime");l(n,"setTime",q,"setTime");var m=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(var o=0;o<m.length;o++){l(n,"get"+m[o],q,"getUTC"+m[o]);l(n,"set"+m[o],q,"setUTC"+m[o])}return n}function e(m,l){if(l.timezone=="browser"){return new Date(m)}else{if(!l.timezone||l.timezone=="utc"){return i(new Date(m))}else{if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var n=new timezoneJS.Date();n.setTimezone(l.timezone);n.setTime(m);return n}else{return i(new Date(m))}}}}var c={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,quarter:3*30*24*60*60*1000,year:365.2425*24*60*60*1000};var f=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]];var b=f.concat([[3,"month"],[6,"month"],[1,"year"]]);var d=f.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function h(l){l.hooks.processDatapoints.push(function(o,m,n){a.each(o.getAxes(),function(r,p){var q=p.options;if(q.mode=="time"){p.tickGenerator=function(y){var E=[];var D=e(y.min,q);var w=0;var H=(q.tickSize&&q.tickSize[1]==="quarter")||(q.minTickSize&&q.minTickSize[1]==="quarter")?d:b;if(q.minTickSize!=null){if(typeof q.tickSize=="number"){w=q.tickSize}else{w=q.minTickSize[0]*c[q.minTickSize[1]]}}for(var C=0;C<H.length-1;++C){if(y.delta<(H[C][0]*c[H[C][1]]+H[C+1][0]*c[H[C+1][1]])/2&&H[C][0]*c[H[C][1]]>=w){break}}var J=H[C][0];var F=H[C][1];if(F=="year"){if(q.minTickSize!=null&&q.minTickSize[1]=="year"){J=Math.floor(q.minTickSize[0])}else{var t=Math.pow(10,Math.floor(Math.log(y.delta/c.year)/Math.LN10));var s=(y.delta/c.year)/t;if(s<1.5){J=1}else{if(s<3){J=2}else{if(s<7.5){J=5}else{J=10}}}J*=t}if(J<1){J=1}}y.tickSize=q.tickSize||[J,F];var B=y.tickSize[0];F=y.tickSize[1];var x=B*c[F];if(F=="second"){D.setSeconds(g(D.getSeconds(),B))}else{if(F=="minute"){D.setMinutes(g(D.getMinutes(),B))}else{if(F=="hour"){D.setHours(g(D.getHours(),B))}else{if(F=="month"){D.setMonth(g(D.getMonth(),B))}else{if(F=="quarter"){D.setMonth(3*g(D.getMonth()/3,B))}else{if(F=="year"){D.setFullYear(g(D.getFullYear(),B))}}}}}}D.setMilliseconds(0);if(x>=c.minute){D.setSeconds(0)}else{if(x>=c.hour){D.setMinutes(0)}else{if(x>=c.day){D.setHours(0)}else{if(x>=c.day*4){D.setDate(1)}else{if(x>=c.month*2){D.setMonth(g(D.getMonth(),3))}else{if(x>=c.quarter*2){D.setMonth(g(D.getMonth(),6))}else{if(x>=c.year){D.setMonth(0)}}}}}}}var I=0;var G=Number.NaN;var z;do{z=G;G=D.getTime();E.push(G);if(F=="month"||F=="quarter"){if(B<1){D.setDate(1);var u=D.getTime();D.setMonth(D.getMonth()+(F=="quarter"?3:1));var A=D.getTime();D.setTime(G+I*c.hour+(A-u)*B);I=D.getHours();D.setHours(0)}else{D.setMonth(D.getMonth()+B*(F=="quarter"?3:1))}}else{if(F=="year"){D.setFullYear(D.getFullYear()+B)}else{D.setTime(G+x)}}}while(G<y.max&&G!=z);return E};p.tickFormatter=function(z,u){var x=e(z,u.options);if(q.timeformat!=null){return j(x,q.timeformat,q.monthNames,q.dayNames)}var D=(u.options.tickSize&&u.options.tickSize[1]=="quarter")||(u.options.minTickSize&&u.options.minTickSize[1]=="quarter");var C=u.tickSize[0]*c[u.tickSize[1]];var y=u.max-u.min;var B=(q.twelveHourClock)?" %p":"";var A=(q.twelveHourClock)?"%I":"%H";var s;if(C<c.minute){s=A+":%M:%S"+B}else{if(C<c.day){if(y<2*c.day){s=A+":%M"+B}else{s="%b %d "+A+":%M"+B}}else{if(C<c.month){s="%b %d"}else{if((D&&C<c.quarter)||(!D&&C<c.year)){if(y<c.year){s="%b"}else{s="%b %Y"}}else{if(D&&C<c.year){if(y<c.year){s="Q%q"}else{s="Q%q %Y"}}else{s="%Y"}}}}}var w=j(x,s,q.monthNames,q.dayNames);return w}}})})}a.plot.plugins.push({init:h,options:k,name:"time",version:"1.0"});a.plot.formatDate=j})(jQuery);